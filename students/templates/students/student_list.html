{% extends 'students/base.html' %}

{% block content %}

<h3 class="mb-3">Student List</h3>

<a href="/add/" class="btn btn-primary mb-3">Add Student</a>

<form method="get" class="mb-3">
    <input 
        type="text" 
        name="q" 
        placeholder="Search by name or course"
        value="{{ request.GET.q }}"
    >
    <button type="submit">Search</button>
</form>


<table class="table table-bordered table-striped">
    <thead class="table-dark">
        <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Course</th>
            <th>Age</th>
            <th>Actions</th>
        </tr>
    </thead>

    <tbody>
        {% for student in students %}
        <tr>
            <td>{{ student.name }}</td>
            <td>{{ student.email }}</td>
            <td>{{ student.course }}</td>
            <td>{{ student.age }}</td>
            <td>
                <a href="{% url 'edit_student' student.id %}"
                   class="btn btn-dark btn-sm">
                   Edit
                </a>
                <a href="{% url 'delete_student' student.id %}" class="btn btn-danger btn-sm">
        Delete
    </a>
            </td>
            
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}
